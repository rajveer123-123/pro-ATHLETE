<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Track & Field Coach-Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root { --p: #1e40af; --s: #7c3aed; --bg: #f8fafc; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding-bottom: 70px; }
        .nav-bar { display: flex; overflow-x: auto; background: white; border-bottom: 2px solid #e2e8f0; position: sticky; top: 0; z-index: 1000; padding: 5px; gap: 10px; scrollbar-width: none; }
        .nav-bar::-webkit-scrollbar { display: none; }
        .nav-btn { padding: 12px 20px; border: none; background: none; font-weight: bold; color: #64748b; cursor: pointer; white-space: nowrap; }
        .nav-btn.active { color: var(--p); border-bottom: 3px solid var(--p); }
        .container { padding: 15px; display: none; max-width: 600px; margin: auto; }
        .container.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .card { background: white; padding: 20px; border-radius: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 15px; border: 1px solid #e2e8f0; }
        label { font-weight: 600; font-size: 14px; color: #475569; display: block; margin-top: 10px; }
        input, select, textarea { width: 100%; padding: 12px; margin: 5px 0 12px 0; border: 1px solid #cbd5e1; border-radius: 10px; font-size: 16px; box-sizing: border-box; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer; font-size: 16px; }
        .feedback-card { background: #fff; border-left: 5px solid #10b981; padding: 15px; border-radius: 12px; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div class="nav-bar">
        <button class="nav-btn active" onclick="showTab('p-tab', this)">üèÉ Practice</button>
        <button class="nav-btn" onclick="showTab('m-tab', this)">üèÜ Main Event</button>
        <button class="nav-btn" onclick="showTab('r-tab', this)">üìä AI Report</button>
        <button class="nav-btn" onclick="showTab('v-tab', this)">üí¨ Reviews</button>
    </div>

    <div id="p-tab" class="container active">
        <h2>Practice Session</h2>
        <div class="card">
            <label>Athlete Name:</label>
            <input type="text" id="pAthName" placeholder="Enter Name">
            
            <label>Date:</label>
            <input type="date" id="pDate">

            <label>Select Drill:</label>
            <select id="pDrill">
                <option>30 Metre</option><option>40 Metre</option><option>80 Metre</option>
                <option>120 Metre</option><option>150 Metre</option><option>180 Metre</option>
                <option>300 Metre</option><option>800 Metre</option>
                <option>Broad Jump</option><option>Standing Triple</option>
                <option>5 Bounded</option><option>10 Bounded</option>
                <option>Ball Throw</option><option>Back Throw</option>
            </select>
            
            <label>Result:</label>
            <input type="number" step="0.01" id="pRes" placeholder="0.00">
            <button class="btn" style="background:var(--p)" onclick="saveData('practice')">SAVE PRACTICE</button>
        </div>
    </div>

    <div id="m-tab" class="container">
        <h2>Main Event</h2>
        <div class="card">
            <label>Athlete Name:</label>
            <input type="text" id="mAthName" placeholder="Athlete Name">
            <label>Date:</label>
            <input type="date" id="mDate">
            <label>Select Event:</label>
            <select id="mEvent">
                <option>100m</option><option>200m</option><option>400m</option><option>800m</option>
                <option>Long Jump</option><option>Shot Put</option>
            </select>
            <input type="number" step="0.01" id="mRes" placeholder="Result">
            <button class="btn" style="background:var(--s)" onclick="saveData('main')">SAVE EVENT</button>
        </div>
    </div>

    <div id="v-tab" class="container">
        <h2>User Reviews</h2>
        <div class="card">
            <input type="text" id="revName" placeholder="Your Name">
            <textarea id="revMsg" placeholder="Your review..."></textarea>
            <button class="btn" style="background:#10b981" onclick="submitReview()">SUBMIT REVIEW</button>
        </div>
        <div id="reviewWall"></div>
    </div>

    <script>
        // Replace with your Firebase config
        const firebaseConfig = { apiKey: "AIza...", databaseURL: "https://athletetracker-5efd6-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function showTab(id, btn) {
            document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            btn.classList.add('active');
        }

        function saveData(type) {
            const prefix = type === 'practice' ? 'p' : 'm';
            const athlete = document.getElementById(prefix + 'AthName').value;
            const date = document.getElementById(prefix + 'Date').value;
            const val = document.getElementById(prefix + 'Res').value;
            const event = document.getElementById(type === 'practice' ? 'pDrill' : 'mEvent').value;

            if(athlete && date && val) {
                db.ref(`academy/${type}`).push({ athlete, date, event, val });
                alert("Saved!");
            } else { alert("Please fill Name, Date and Result!"); }
        }

        function submitReview() {
            const name = document.getElementById('revName').value;
            const msg = document.getElementById('revMsg').value;
            if(name && msg) {
                db.ref(`public_reviews`).push({ name, msg, time: new Date().toLocaleString() });
                alert("Review submitted!");
            }
        }

        db.ref(`public_reviews`).on('value', snap => {
            const wall = document.getElementById('reviewWall');
            wall.innerHTML = "";
            snap.forEach(c => {
                const d = c.val();
                wall.innerHTML += `<div class="feedback-card"><b>${d.name}</b><p>${d.msg}</p></div>`;
            });
        });
    </script>
</body>
</html>
